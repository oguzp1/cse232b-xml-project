for $tuple in join( join( for $w in doc("j_caesar.xml")//PGROUP, $t in $w/PERSONA/text(), $u in $w/GRPDESCR/text() where $u = "conspirators against Julius Caesar." return <tuple>{ <w>{$w}</w>, <t>{$t}</t>, <u>{$u}</u> }</tuple>, for $y in doc("j_caesar.xml")//SPEECH, $z in $y/SPEAKER/text() return <tuple>{ <y>{$y}</y>, <z>{$z}</z> }</tuple>, [t], [z] ), for $k in doc("j_caesar.xml")//ACT/TITLE return <tuple>{ <k>{$k}</k> }</tuple>, [], [] ) return <result>{$tuple/w/*/GRPDESCR,$tuple/y/*/SPEAKER,$tuple/k/*}</result>